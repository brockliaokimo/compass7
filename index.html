<!DOCTYPE html>
<html>
<head>
<title>Compass Example</title>
	
<script type="text/javascript" charset="utf-8" src="phonegap.js"></script>
<script type="text/javascript" charset="utf-8">
	
	// 等待加载PhoneGap
	document.addEventListener("deviceready", onDeviceReady, false);
	
	// PhoneGap加载完毕
	function onDeviceReady() {
		navigator.compass.getCurrentHeading(onSuccess, onError);
	}
	
	// onSuccess: 返回当前的朝向数据
	function onSuccess(heading) {
		alert('Heading: ' + heading.magneticHeading);
	}
	
	// onError: 返回朝向数据失败
	function onError(compassError) {
		alert('Compass Error: ' + compassError.code);
	}
	
</script>
</head>
<body>
	<h1>Example</h1>
	<p>getCurrentHeading</p>
</body>
</html>